<style>
    .reporte-expedientes-table { border-collapse: collapse; width: 100%; }
    .reporte-expedientes-table th, .reporte-expedientes-table td { border: 1px solid #333; padding: 4px; }
    .reporte-expedientes-table th { background: #eee; }
    .btn-descargar {
        background: #416759;
        color: white;
        padding: 10px 20px;
        border: none;
        border-radius: 4px;
        cursor: pointer;
        margin-bottom: 20px;
        font-size: 14px;
    }
    .btn-descargar:hover {
        background: #335248;
    }
</style>
<script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script>
<div class="reporte-expedientes-root">
    <button class="btn-descargar" onclick="descargarPDF()">Descargar PDF</button>
    <h1>Reporte de Expedientes</h1>
    <table class="reporte-expedientes-table">
        <tr>
            <th>ID</th>
            <th>Código</th>
            <th>Primer Dueño</th>
            <th>Año</th>
            <th>Estado</th>
        </tr>
        {% for exp in expedientes %}
        <tr>
            <td>{{ exp.IdExpediente }}</td>
            <td>{{ exp.CodigoExpediente }}</td>
            <td>{{ exp.PrimerDueno }}</td>
            <td>{{ exp.Ano }}</td>
            <td>{{ exp.Estado }}</td>
        </tr>
        {% endfor %}
    </table>
</div>
<script>
function descargarPDF() {
    const btn = document.querySelector('.btn-descargar');
    btn.style.display = 'none'; // Oculta el botón antes de generar el PDF
    const elemento = document.querySelector('.reporte-expedientes-root');
    html2pdf().from(elemento).set({ filename: 'expedientes.pdf' }).save().then(() => {
        btn.style.display = 'block'; // Muestra el botón nuevamente
    });
}
</script>
